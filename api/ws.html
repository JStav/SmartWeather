---
layout: apiwshome
title: WeatherFlow Smart Weather API
---
<h1>Websocket</h1>

<h2><a name="endpoints">Endpoints</a></h2>
<div>ws://ws.weatherflow.com/swd/data</div>
<div>wss://ws.weatherflow.com/swd/data</div>

<h2><a name="request-messages">Request Messages</a></h2>
<table>
  <tr><th>Message</th><th>Pushed Types</th><th>Description</th></tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_start",
  "device_id":1110,
  "id":"2098388936"
}
{% endhighlight %}
    </div>
    <td>ack<br>obs_air<br>obs_sky<br>evt_strike<br>evt_precip</td>
    <td>Start listening for all new observations and events for a device_id.  Each new observation sent by the Device will be pushed to the client as soon as possible.  All Device events will be immediatly pushed.</td>
  </tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_stop",
  "device_id":1110,
  "id":"2098388936"
}
{% endhighlight %}
    </div>
    <td>ack</td>
    <td>Stop listening for all messages for a Device.</td>
  </tr>
</table>


<h2><a name="response-messages">Response Messages</a></h2>
<h3>Acknowledgement</h3>
<div class="code-highlight">
{% highlight javascript %}
{
  "type":"ack",
  "id":"2098388936"
}
{% endhighlight %}
</div>

<h3>Observation (Air)</h3>
<div class="code-highlight">
{% highlight javascript %}
{
  "type":"obs_air",
  "device_id":1110,
  "obs":[[1493164835,835.0,10.0,45,0,0,3.46,1]]
}
{% endhighlight %}
</div>
Observation Value Layout
<table>
  <tr><th>Index</th><th>Field</th><th>Units</th></tr>
  <tr><td>0</td><td>Time Seconds Epoch</td><td>Seconds</td></tr>
  <tr><td>1</td><td>Station Pressure</td><td>MB</td></tr>
  <tr><td>2</td><td>Air Temperature</td><td>C</td></tr>
  <tr><td>3</td><td>Relative Humidity</td><td>%</td></tr>
  <tr><td>4</td><td>Lightning Strike Count</td><td></td></tr>
  <tr><td>5</td><td>Lightning Strike Avg Distance</td><td>km</td></tr>
  <tr><td>6</td><td>Battery</td><td></td></tr>
  <tr><td>7</td><td>Report Interval</td><td>Minutes</td></tr>
</table>




