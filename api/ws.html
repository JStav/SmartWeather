---
layout: apiwshome
title: WeatherFlow Smart Weather API Websocket Reference
---
<h2><a name="endpoints">Endpoints</a></h2>
<div class="code-highlight">ws://ws.weatherflow.com/swd/data</div>
<div class="code-highlight">wss://ws.weatherflow.com/swd/data</div>

<h2><a name="request-messages">Request Messages</a></h2>
<table>
  <tr><th>Request Message</th><th>Response Message Types</th><th>Description</th></tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_start",
  "device_id":1110,
  "id":"2098388936"
}
{% endhighlight %}
    </div>
    <td>ack<br>obs_air<br>obs_sky<br>evt_strike<br>evt_precip</td>
    <td>Start listening for all new observations and events for a device_id.  Each new observation sent by the Device will be pushed to the client as soon as possible.  All Device events will be immediatly pushed.</td>
  </tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_stop",
  "device_id":1110,
  "id":"2098388936"
}
{% endhighlight %}
    </div>
    <td>ack</td>
    <td>Stop listening for all messages for a Device.</td>
  </tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_start_events",
  "station_id":2594,
  "id":"2098388541"
}
{% endhighlight %}
    </div>
    <td>ack<br>evt_station_online<br>evt_station_offline</td>
    <td>Start listening for all Station online and offline events.  All Station events will be immediatly pushed.</td>
  </tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_stop_events",
  "station_id":2594,
  "id":"2098388541"
}
{% endhighlight %}
    </div>
    <td>ack</td>
    <td>Stop listening for all event messages for a Station.</td>
  </tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_rapid_start",
  "device_id":1110,
  "id":"2098388542"
}
{% endhighlight %}
    </div>
    <td>ack<br>rapid_wind</td>
    <td>Start listening for rapid 3 second wind data for a Sky Device.</td>
  </tr>
  <tr>
    <td>
      <div class="code-highlight">
{% highlight javascript %}
{
  "type":"listen_rapid_stop",
  "device_id":1110,
  "id":"2098388587"
}
{% endhighlight %}
    </div>
    <td>ack</td>
    <td>Stop listening for rapid data messages for a Device.</td>
  </tr>

</table>


<h2><a name="response-messages">Response Messages</a></h2>
<h3>Acknowledgement [type = ack]</h3>
<div class="code-highlight">
{% highlight javascript %}
{
  "type":"ack",
  "id":"2098388936"
}
{% endhighlight %}
</div>

<hr>
<h3>Observation (Air) [type = obs_air]</h3>
<div class="code-highlight">
{% highlight javascript %}
{
  "type":"obs_air",
  "device_id":1110,
  "obs":[[1493164835,835.0,10.0,45,0,0,3.46,1]]
}
{% endhighlight %}
</div>
Observation Value Layout
<table>
  <tr><th>Index</th><th>Field</th><th>Units</th></tr>
  <tr><td>0</td><td>Time Seconds Epoch</td><td>Seconds</td></tr>
  <tr><td>1</td><td>Station Pressure</td><td>MB</td></tr>
  <tr><td>2</td><td>Air Temperature</td><td>C</td></tr>
  <tr><td>3</td><td>Relative Humidity</td><td>%</td></tr>
  <tr><td>4</td><td>Lightning Strike Count</td><td></td></tr>
  <tr><td>5</td><td>Lightning Strike Avg Distance</td><td>km</td></tr>
  <tr><td>6</td><td>Battery</td><td></td></tr>
  <tr><td>7</td><td>Report Interval</td><td>Minutes</td></tr>
</table>


<h3>Observation (Sky) [type = obs_sky]</h3>
<div class="code-highlight">
{% highlight javascript %}
{
  "type":"obs_sky",
  "device_id":1110,
  "obs":[[1493321340,9000,10,0.0,2.6,4.6,7.4,187,3.12,1,130]]
}
{% endhighlight %}
</div>
Observation Value Layout
<table>
  <tr><th>Index</th><th>Field</th><th>Units</th></tr>
  <tr><td>0</td><td>Time Seconds Epoch</td><td>Seconds</td></tr>
  <tr><td>1</td><td>Lux</td><td></td></tr>
  <tr><td>2</td><td>UV</td><td>Index 1-10</td></tr>
  <tr><td>3</td><td>Precip Accumulated</td>mm<td></td></tr>
  <tr><td>4</td><td>Wind Lull</td><td>mps</td></tr>
  <tr><td>5</td><td>Wind Avg</td><td>mps</td></tr>
  <tr><td>6</td><td>Wind Gust</td><td>mps</td></tr>
  <tr><td>7</td><td>Wind Direction</td><td></td></tr>
  <tr><td>8</td><td>Battery</td><td></td></tr>
  <tr><td>9</td><td>Report Interval</td><td>Minutes</td></tr>
  <tr><td>10</td><td>Solar Radiation</td><td></td></tr>
</table>


